# P256, P384, P521 및 Curve25519

P256, P384, P521 및 Curve25519은 다양한 타원 곡선 암호화(Elliptic Curve Cryptography, ECC) 알고리즘에서 사용되는 곡선의 종류입니다. 이러한 곡선은 암호화 키 교환, 서명 및 인증 등에 사용됩니다. 각각의 곡선에는 다음과 같은 차이점이 있습니다:

P256 (secp256r1 또는 prime256v1):
NIST(미국 국립표준기술원)에서 정의한 곡선으로 가장 널리 사용되는 타원 곡선입니다.
256비트(32바이트)의 키 크기를 가지며, 보안적으로 안전하다고 여겨집니다.
ECDSA (Elliptic Curve Digital Signature Algorithm)와 ECDH (Elliptic Curve Diffie-Hellman) 등의 알고리즘에 사용됩니다.

P384 (secp384r1 또는 prime384v1):
NIST에서 정의한 384비트(48바이트)의 타원 곡선입니다.
P256보다 더 큰 키 크기를 가지며, 보다 강력한 보안 수준을 제공합니다.
ECDSA 및 ECDH 등의 알고리즘에 사용됩니다.

P521 (secp521r1 또는 prime521v1):
NIST에서 정의한 521비트(66바이트)의 타원 곡선입니다.
P256 및 P384에 비해 매우 큰 키 크기를 가지며, 더 강력한 보안 수준을 제공합니다.
ECDSA 및 ECDH 등의 알고리즘에 사용됩니다.

Curve25519:
공인된 표준은 아니지만, 공개키 교환 및 기타 암호 작업에 사용되는 곡선입니다.
25519비트(32바이트)의 키 크기를 가지며, 성능과 보안을 균형있게 제공합니다.
X25519은 Curve25519에 기반한 Diffie-Hellman 키 교환 프로토콜로 사용됩니다.

이러한 곡선은 보안과 성능의 균형을 고려하여 선택되어야 합니다. P256은 대부분의 경우에 적합한 선택이며, P384 및 P521은 더 강력한 보안 요구사항이 있는 경우에 사용됩니다. Curve25519은 특히 성능과 효율성이 중요한 상황에서 사용될 수 있습니다.



# CBC 암호화는 중간자 공격 취약점이 있기 때문에 GCM 모드를 사용하는것을 권장한다.

저는 2021년 9월까지의 정보를 기반으로 작동하고 있으며, 해당 시점에서의 CryptoKit은 Apple의 공식 암호화 프레임워크로, AES-GCM (Galois/Counter Mode) 암호화 모드를 지원합니다. 하지만, CryptoKit은 해당 시점 이후에도 계속해서 업데이트되고 발전하고 있으므로, 현재 상황에 대해서는 Apple의 공식 문서와 개발자 도구를 참고하는 것이 좋습니다.

AES-CBC (Cipher Block Chaining) 모드는 과거에 가장 일반적으로 사용되던 암호화 모드 중 하나였지만, 보안 결함이 발견되었고, 보다 안전한 암호화 모드인 AES-GCM이 권장되고 있습니다. 따라서, 최신의 암호화 요구사항을 충족하기 위해서는 AES-GCM을 사용하는 것이 좋습니다.

Apple의 공식 문서 및 개발자 도구를 참고하여, 현재의 CryptoKit에서 지원하는 암호화 모드와 기능에 대한 자세한 정보를 얻을 수 있습니다.


# IV
암호화를 진행할 때 마다 랜덤으로 IV 를 생성하여 암호화를 진행한다. 단, 복호화 진행시 IV 를 알아야 복호화를 할 수 있기 때문에, 암호화시 데이터 앞부분에 IV를 추가하는 방식을 사용한다. 그러므로 모든 데이터는 IV 사이즈만큼 데이터 용량이 증가 되는것이 단점이다.
